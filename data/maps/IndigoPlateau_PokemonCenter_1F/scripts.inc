.set LOCALID_DOOR_GUARD, 4

IndigoPlateau_PokemonCenter_1F_MapScripts::
	map_script MAP_SCRIPT_ON_TRANSITION, IndigoPlateau_PokemonCenter_1F_OnTransition
	map_script MAP_SCRIPT_ON_RESUME, CableClub_OnResume
	.byte 0

IndigoPlateau_PokemonCenter_1F_OnTransition::
	setrespawn SPAWN_INDIGO_PLATEAU
	specialvar VAR_RESULT, IsNationalPokedexEnabled
	call_if_eq VAR_RESULT, TRUE, IndigoPlateau_PokemonCenter_1F_EventScript_CheckBlockDoor
	end

IndigoPlateau_PokemonCenter_1F_EventScript_CheckBlockDoor::
	goto_if_set FLAG_SYS_CAN_LINK_WITH_RS, EventScript_Return
	setobjectxyperm LOCALID_DOOR_GUARD, 4, 2
	return

IndigoPlateau_PokemonCenter_1F_EventScript_DoorGuard::
	lock
	faceplayer
	specialvar VAR_RESULT, IsNationalPokedexEnabled
	goto_if_eq VAR_RESULT, TRUE, IndigoPlateau_PokemonCenter_1F_EventScript_CheckSeviiIslandComplete
	msgbox IndigoPlateau_PokemonCenter_1F_Text_FaceEliteFourGoodLuck
	release
	end

IndigoPlateau_PokemonCenter_1F_EventScript_CheckSeviiIslandComplete::
	goto_if_set FLAG_SYS_CAN_LINK_WITH_RS, IndigoPlateau_PokemonCenter_1F_EventScript_SeviiIslandComplete
	msgbox IndigoPlateau_PokemonCenter_1F_Text_LoreleiIsAbsentClosedForTimeBeing
	release
	end

IndigoPlateau_PokemonCenter_1F_EventScript_SeviiIslandComplete::
	msgbox IndigoPlateau_PokemonCenter_1F_Text_FaceEliteFourGoodLuck
	release
	end

IndigoPlateau_PokemonCenter_1F_EventScript_GymGuy::
	msgbox IndigoPlateau_PokemonCenter_1F_Text_GymGuyAdvice, MSGBOX_NPC
	end

IndigoPlateau_PokemonCenter_1F_EventScript_Clerk::
	goto_if_questlog EventScript_ReleaseEnd
	lock
	faceplayer
	message Text_MayIHelpYou
	waitmessage
	pokemart IndigoPlateau_PokemonCenter_1F_Items
	msgbox Text_PleaseComeAgain
	release
	end

IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer::
	lock
	faceplayer
	msgbox IndigoPlateau_PokemonCenter_1F_Text_EventScript_EVTrainer, MSGBOX_YESNO
	goto IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_Dialog
	end

IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_Dialog::
	goto_if_eq VAR_RESULT, YES, IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogAccept
	goto IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogDecline
	end

IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogSecond::
	goto_if_eq VAR_RESULT, YES, IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogAccept
	goto IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogDeclineSecond
	end
	
IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogDecline::
	msgbox IndigoPlateau_PokemonCenter_1F_Text_EventScript_EVTrainerDeclined
	release
	end

IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogDeclineSecond::
	msgbox IndigoPlateau_PokemonCenter_1F_Text_EventScript_EVTrainerDeclinedSecond
	release
	end

IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogAccept::
	msgbox IndigoPlateau_PokemonCenter_1F_Text_EventScript_EVTrainerWhichMon
	special ChoosePartyMon
	waitstate
	goto_if_ge VAR_0x8004, PARTY_SIZE, IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogDecline
	special IsSelectedMonEgg
	goto_if_eq VAR_RESULT, TRUE, IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogNoEgg
	msgbox IndigoPlateau_PokemonCenter_1F_Text_EventScript_EVTrainerPrepNoEVs
	fadescreen FADE_TO_BLACK
	playfanfare MUS_MOVE_DELETED
	waitfanfare
	special EVTrainerClearMonEVs
	fadescreen FADE_FROM_BLACK
	msgbox IndigoPlateau_PokemonCenter_1F_Text_EventScript_EVTrainerAfterAccept, MSGBOX_YESNO
	goto IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogSecond
	end

IndigoPlateau_PokemonCenter_1F_EventScript_EVTrainer_DialogNoEgg::
	msgbox IndigoPlateau_PokemonCenter_1F_Text_EventScript_EVTrainerNoEggs
	release
	end

	.align 2
IndigoPlateau_PokemonCenter_1F_Items::
	.2byte ITEM_ULTRA_BALL
	.2byte ITEM_GREAT_BALL
	.2byte ITEM_FULL_RESTORE
	.2byte ITEM_MAX_POTION
	.2byte ITEM_REVIVE
	.2byte ITEM_FULL_HEAL
	.2byte ITEM_MAX_REPEL
	.2byte ITEM_NONE
	release
	end

IndigoPlateau_PokemonCenter_1F_EventScript_Nurse::
	lock
	faceplayer
	call EventScript_PkmnCenterNurse
	release
	end
